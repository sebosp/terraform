{
   "resource": {
      "aws_iam_group": {
         "global_only_group": {
            "name": "global_only_group"
         },
         "overwritten_global_group": {
            "name": "overwritten_global_group"
         },
         "overwritten_global_policy": {
            "name": "overwritten_global_policy"
         },
         "prod_only_group": {
            "name": "prod_only_group"
         }
      },
      "aws_iam_group_policy_attachment": {
         "global_only_group-global_policy": {
            "group": "${aws_iam_group.global_only_group.id}",
            "policy_arn": "${aws_iam_policy.global_policy.arn}"
         },
         "overwritten_global_group-global_policy": {
            "group": "${aws_iam_group.overwritten_global_group.id}",
            "policy_arn": "${aws_iam_policy.global_policy.arn}"
         },
         "overwritten_global_policy-global_policy": {
            "group": "${aws_iam_group.overwritten_global_policy.id}",
            "policy_arn": "${aws_iam_policy.global_policy.arn}"
         },
         "prod_only_group-global_policy": {
            "group": "${aws_iam_group.prod_only_group.id}",
            "policy_arn": "${aws_iam_policy.global_policy.arn}"
         }
      },
      "aws_iam_policy": {
         "admin_access": {
            "name": "admin_access",
            "policy": "{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": \"*\",\n            \"Resource\": \"*\"\n        }\n    ]\n}\n"
         },
         "global_policy": {
            "name": "global_policy",
            "policy": "{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Sid\": \"GlobalPolicy\",\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ec2:DescribeImages\",\n                \"ec2:DescribeInstances\",\n                \"ec2:DescribeTags\"\n            ],\n            \"Resource\": [\n                \"*\"\n            ]\n        }\n    ]\n}\n"
         },
         "grafana_cloudwatch": {
            "name": "grafana_cloudwatch",
            "policy": "{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Sid\": \"GrafanaCloudwatch\",\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"cloudwatch:ListMetrics\",\n                \"cloudwatch:GetMetricStatistics\"\n            ],\n            \"Resource\": \"*\"\n        },\n        {\n            \"Sid\": \"GrafanaEc2Describe\",\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ec2:DescribeTags\",\n                \"ec2:DescribeInstances\"\n            ],\n            \"Resource\": \"*\"\n        }\n    ]\n}\n"
         },
         "overwritten_global_policy": {
            "name": "overwritten_global_policy",
            "policy": "{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Sid\": \"OverwrittenGlobalPolicy\",\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ec2:DescribeImages\",\n                \"ec2:DescribeInstances\",\n                \"ec2:DescribeTags\"\n            ],\n            \"Resource\": [\n                \"*\"\n            ]\n        }\n    ]\n}\n"
         },
         "readonly_ec2": {
            "name": "readonly_ec2",
            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": [\n        \"ec2:Describe*\",\n        \"ec2:GetConsoleOutput\",\n        \"ec2:GetConsoleScreenshot\",\n        \"s3:List*\",\n        \"tag:Get*\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"*\"\n    }\n  ]\n}\n"
         },
         "vault_root_iam": {
            "name": "vault_root_iam",
            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"iam:AttachUserPolicy\",\n        \"iam:CreateAccessKey\",\n        \"iam:CreateUser\",\n        \"iam:DeleteAccessKey\",\n        \"iam:DeleteUser\",\n        \"iam:DeleteUserPolicy\",\n        \"iam:DetachUserPolicy\",\n        \"iam:ListAccessKeys\",\n        \"iam:ListAttachedUserPolicies\",\n        \"iam:ListGroupsForUser\",\n        \"iam:ListUserPolicies\",\n        \"iam:PutUserPolicy\",\n        \"iam:RemoveUserFromGroup\"\n      ],\n      \"Resource\": [\n        \"arn:aws:iam::{{ env_obj.account_id }}:user/vault-*\"\n      ]\n    }\n  ]\n}\n"
         }
      }
   }
}
